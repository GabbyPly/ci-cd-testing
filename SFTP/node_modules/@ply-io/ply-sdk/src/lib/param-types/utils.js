const PARAM_TYPES_MAP = require('./param-types');

const extractParamFromActionParams = (actionParams, key) => actionParams.find((p) => p.key === key);

const getParamTypeOfKey = (actionParams, key) => {
	if (!actionParams || !Array.isArray(actionParams)) {
		return null;
	}
	const param = extractParamFromActionParams(actionParams, key);
	const paramTypeUppercase = param?.type?.toUpperCase();
	return PARAM_TYPES_MAP[paramTypeUppercase] || null;
};

const utils = {
	getParamTypeOfKey,
	extractParamFromActionParams
};

module.exports = utils;
