const wrapAfterMiddleware = function (func) {
	return function (url, options, fetch, data) {
		return fetch(url, options).then(async (response) => func(response, url, options, data));
	};
};

const wrapBeforeMiddleware = function (func) {
	return async function (url, options, fetch, data) {
		const mwResponse = await func(url, options, data);
		url = mwResponse.url;
		options = mwResponse.options;
		return fetch(url, options);
	};
};

module.exports = {
	wrapAfterMiddleware,
	wrapBeforeMiddleware
};
