// a method so we can export a json reperesnation of this App instance and expose methods etc.

const serializeApp = (app) => {
	const parseObject = (key, val) => {
		if (typeof val === 'function') {
			return '$func$';
		} else if (val instanceof RegExp) {
			const regexString = val.toString();
			return regexString.substring(1, regexString.length - 1); // remove leading and trailing '/' from the regexString
		}
		return val;
	};

	return JSON.stringify(app, parseObject, 2); // Second argument here can be a custom function, so we can go over vals and if its typeof === function return just some string to indicate that its a method and so on.
};

module.exports = serializeApp;
